<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personal Finances</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="./styles.css" rel="stylesheet">
</head>
<body>
  <!-- Landing / Hero -->
  <header class="hero py-5 mb-4">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-between">
        <h1 class="display-5 fw-bold m-0">Personal Finances</h1>
        <div class="form-check form-switch text-white ms-auto">
          <input class="form-check-input" type="checkbox" id="safetySwitch" checked>
          <label class="form-check-label" for="safetySwitch">
            Safety buffer (income −10% / expenses +10%)
          </label>
        </div>
      </div>
      <p class="lead mt-3 mb-0">
        A responsive budgeting app to track where money <strong>comes from</strong> and where it
        <strong>goes</strong>, categorize needs/wants/savings/debt, manage fixed vs. variable
        expenses, choose a budgeting method, and set short‑ & long‑term goals.
      </p>
    </div>
  </header>

  <!-- Brief explanation at bottom of landing -->
  <section class="container mb-4">
    <div class="alert alert-primary glass mb-0">
      <strong>How it works:</strong> Add income and expenses below. Pick a budgeting method to see targets.
      The app flags overspending, highlights spending leaks, and shows a highest‑interest‑first debt order.
    </div>
  </section>

  <!-- Sticky summary bar -->
  <div class="bg-light border-top border-bottom sticky-topbar">
    <div class="container py-2 d-flex flex-wrap gap-3 align-items-center">
      <span id="incomeTotalBadge" class="badge text-bg-success fs-6">Income: $0.00</span>
      <span id="outflowTotalBadge" class="badge text-bg-danger fs-6">Outflow: $0.00</span>
      <span id="netBadge" class="badge text-bg-primary fs-6">Net: $0.00</span>
      <div class="ms-auto d-flex align-items-center gap-2">
        <label class="me-2 fw-semibold">Method</label>
        <select id="methodSelect" class="form-select form-select-sm w-auto">
          <option value="50/30/20">50/30/20</option>
          <option value="75/15/10">75/15/10</option>
          <option value="70/20/10">70/20/10</option>
          <option value="Envelope">Envelope Budgeting</option>
        </select>
      </div>
    </div>
  </div>

  <main class="container my-4">
    <div class="row g-4">
      <!-- Income -->
      <div class="col-12 col-lg-4">
        <section class="card h-100">
          <div class="card-body">
            <h2 class="h5 section-title mb-3">Income (Where money is coming from)</h2>
            <ul id="incomeList" class="list-group mb-3"></ul>
            <form id="incomeForm" class="row g-2">
              <div class="col-6">
                <input id="incomeName" class="form-control" placeholder="Name (e.g., Paycheck)" required>
              </div>
              <div class="col-4">
                <input id="incomeAmount" type="number" step="0.01" min="0" class="form-control" placeholder="Amount" required>
              </div>
              <div class="col-2 d-grid">
                <button class="btn btn-primary" type="submit">Add</button>
              </div>
            </form>
            <hr />
            <p class="mb-1"><strong>Income for targets:</strong> <span id="incomeForTargets">$0.00</span></p>
            <p class="text-muted small mb-0">With safety buffer on, targets use 90% of income and stress‑test 110% of expenses.</p>
          </div>
        </section>
      </div>

      <!-- Expenses / Tracking -->
      <div class="col-12 col-lg-8">
        <section class="card h-100">
          <div class="card-body">
            <h2 class="h5 section-title mb-3">Tracking Table (Where money is going)</h2>

            <div class="row g-2 mb-3">
              <div class="col-12 col-md-4">
                <input id="expName" class="form-control" placeholder="Item (e.g., Groceries)">
              </div>
              <div class="col-6 col-md-2">
                <input id="expAmount" type="number" step="0.01" min="0" class="form-control" placeholder="Amount">
              </div>
              <div class="col-6 col-md-3">
                <select id="expCategory" class="form-select">
                  <option>Needs</option>
                  <option>Wants</option>
                  <option>Savings</option>
                  <option>Debt</option>
                </select>
              </div>
              <div class="col-6 col-md-2">
                <select id="expType" class="form-select">
                  <option>Fixed</option>
                  <option>Variable</option>
                  <option>N/A</option>
                </select>
              </div>
              <div class="col-6 col-md-1 d-grid">
                <button id="addExpenseBtn" class="btn btn-primary">Add</button>
              </div>
            </div>

            <div class="table-responsive">
              <table class="table table-striped align-middle table-fixed">
                <thead>
                  <tr>
                    <th style="width:30%">Name</th>
                    <th style="width:15%" class="text-end">Amount</th>
                    <th style="width:20%">Category</th>
                    <th style="width:20%">Type</th>
                    <th style="width:15%" class="text-end">Actions</th>
                  </tr>
                </thead>
                <tbody id="expenseTbody"></tbody>
                <tfoot>
                  <tr class="fw-bold">
                    <td>Total</td>
                    <td id="outTotalCell" class="text-end">$0.00</td>
                    <td colspan="3"></td>
                  </tr>
                </tfoot>
              </table>
            </div>

            <div class="row g-3 mt-2">
              <div class="col-6 col-md-3"><div class="card"><div class="card-body py-2"><div class="small text-muted">Fixed</div><div id="fixedTotal" class="h6 m-0">$0.00</div></div></div></div>
              <div class="col-6 col-md-3"><div class="card"><div class="card-body py-2"><div class="small text-muted">Variable</div><div id="variableTotal" class="h6 m-0">$0.00</div></div></div></div>
              <div class="col-6 col-md-3"><div class="card"><div class="card-body py-2"><div class="small text-muted">Needs</div><div id="needsTotal" class="h6 m-0">$0.00</div></div></div></div>
              <div class="col-6 col-md-3"><div class="card"><div class="card-body py-2"><div class="small text-muted">Wants</div><div id="wantsTotal" class="h6 m-0">$0.00</div></div></div></div>
            </div>

            <div id="notifications" class="mt-3"></div>
          </div>
        </section>
      </div>

      <!-- Budget Methods -->
      <div class="col-12">
        <section class="card">
          <div class="card-body">
            <h2 class="h5 section-title mb-3">Choose a Budgeting Method</h2>
            <div class="row g-3">
              <div class="col-12 col-lg-6">
                <div class="card h-100 border-primary">
                  <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                      <h3 class="h6 m-0">Method Targets</h3>
                      <select id="methodSelect2" class="form-select form-select-sm w-auto">
                        <option value="50/30/20">50/30/20</option>
                        <option value="75/15/10">75/15/10</option>
                        <option value="70/20/10">70/20/10</option>
                        <option value="Envelope">Envelope Budgeting</option>
                      </select>
                    </div>
                    <div id="methodTargetsWrap">
                      <table class="table table-sm mb-0">
                        <tbody id="methodTargetsBody"></tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-6">
                <div class="card h-100">
                  <div class="card-body">
                    <h3 class="h6">Tips for a realistic plan</h3>
                    <ul class="mb-0">
                      <li>Base your plan on consistent, after‑tax income. Irregular income? Use an average of the last 3–6 months.</li>
                      <li>Use the <em>Safety buffer</em> toggle to be conservative (income floor, expense ceiling).</li>
                      <li>Prioritize essentials before wants.</li>
                      <li>Track weekly; adjust as life changes.</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- Fixed vs Variable guidance -->
      <div class="col-12">
        <section class="card">
          <div class="card-body">
            <h2 class="h5 section-title mb-3">Fixed vs. Variable Expenses</h2>
            <div class="row g-3">
              <div class="col-12 col-lg-6">
                <div class="card h-100 bg-light border-0">
                  <div class="card-body">
                    <h3 class="h6">Fixed (predictable)</h3>
                    <ul class="mb-0">
                      <li>Rent or mortgage</li>
                      <li>Loan payments</li>
                      <li>Insurance premiums</li>
                      <li>Internet/phone (if set)</li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-6">
                <div class="card h-100 bg-light border-0">
                  <div class="card-body">
                    <h3 class="h6">Variable (control overspending)</h3>
                    <ul class="mb-0">
                      <li>Groceries</li>
                      <li>Dining/entertainment</li>
                      <li>Shopping</li>
                      <li>Fuel/utilities (usage‑based)</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- Goals & Priorities -->
      <div class="col-12">
        <section class="card">
          <div class="card-body">
            <h2 class="h5 section-title mb-3">Goals & Priorities (Short‑term vs. Long‑term)</h2>
            <form id="goalForm" class="row g-2 mb-3">
              <div class="col-12 col-md-4"><input id="goalLabel" class="form-control" placeholder="Goal (e.g., Emergency Fund)" required></div>
              <div class="col-6 col-md-2">
                <select id="goalTerm" class="form-select">
                  <option>Short</option>
                  <option>Long</option>
                </select>
              </div>
              <div class="col-6 col-md-2"><input id="goalTarget" type="number" min="0" step="0.01" class="form-control" placeholder="Target $" required></div>
              <div class="col-6 col-md-2"><input id="goalSaved" type="number" min="0" step="0.01" class="form-control" placeholder="Saved $"></div>
              <div class="col-6 col-md-2 d-grid"><button class="btn btn-primary" type="submit">Add Goal</button></div>
            </form>

            <div class="table-responsive">
              <table class="table table-striped align-middle">
                <thead>
                  <tr><th>Goal</th><th>Term</th><th class="text-end">Target</th><th class="text-end">Saved</th><th class="text-end">Progress</th><th class="text-end">Actions</th></tr>
                </thead>
                <tbody id="goalsTbody"></tbody>
              </table>
            </div>

            <div class="row g-3">
              <div class="col-12 col-lg-4">
                <div class="card h-100 bg-light"><div class="card-body">
                  <h3 class="h6">Emergency Fund</h3>
                  <p class="mb-0">Aim for 3–6 months of essential expenses in a separate, easy‑access account.</p>
                </div></div>
              </div>
              <div class="col-12 col-lg-4">
                <div class="card h-100 bg-light"><div class="card-body">
                  <h3 class="h6">Invest for the Future</h3>
                  <p class="mb-0">Invest according to your risk tolerance and timeline. Diversify to manage risk.</p>
                </div></div>
              </div>
              <div class="col-12 col-lg-4">
                <div class="card h-100 bg-light"><div class="card-body">
                  <h3 class="h6">Employer Plans</h3>
                  <p class="mb-0">Contribute to employer retirement plans (e.g., 401(k)), especially to capture any match.</p>
                </div></div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- Debt Repayment Prioritization (Avalanche) -->
      <div class="col-12">
        <section class="card">
          <div class="card-body">
            <h2 class="h5 section-title mb-3">Prioritize Debt Repayment (High‑interest first)</h2>

            <form id="debtForm" class="row g-2 mb-3">
              <div class="col-12 col-md-3"><input id="debtName" class="form-control" placeholder="Debt name" required></div>
              <div class="col-6 col-md-2"><input id="debtBalance" type="number" min="0" step="0.01" class="form-control" placeholder="Balance $" required></div>
              <div class="col-6 col-md-2"><input id="debtRate" type="number" min="0" step="0.01" class="form-control" placeholder="APR %" required></div>
              <div class="col-6 col-md-2"><input id="debtMin" type="number" min="0" step="0.01" class="form-control" placeholder="Min $" required></div>
              <div class="col-6 col-md-3 d-grid"><button class="btn btn-primary" type="submit">Add Debt</button></div>
            </form>

            <div class="table-responsive">
              <table class="table table-striped align-middle">
                <thead>
                  <tr><th>Debt</th><th class="text-end">Balance</th><th class="text-end">APR</th><th class="text-end">Min</th><th class="text-end">Action</th></tr>
                </thead>
                <tbody id="debtsTbody"></tbody>
              </table>
            </div>

            <div class="alert alert-secondary mb-0">
              Make minimum payments on all debts, then direct any extra dollars to the highest‑APR balance (the <em>avalanche</em> method). This usually minimizes total interest and speeds payoff. Prefer this over the <em>snowball</em> method unless you specifically want small quick wins.
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <footer class="footer-gradient py-4 text-center small">
    <p>© <span id="year"></span> Personal Finances – Built with HTML, CSS, JS & Bootstrap</p>
    <p>Copyright by Jose A. Hernandez Soto</p>
  </footer>

  <script src="./app.js"></script>
</body>
</html>
